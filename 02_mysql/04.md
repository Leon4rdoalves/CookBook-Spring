<h1>Diagrama Entidade Relacionamento (DER) no MySQL Workbench</h1>

Um **Diagrama Entidade Relacionamento** (DER) √© um Fluxograma que ilustra como as ‚Äú**Entidades**‚Äù (Usu√°rios, Produtos, Postagens), se relacionam entre si dentro de um sistema de Banco de dados Relacional.

Os Diagramas DER s√£o usados principalmente para modelar e criar bancos de dados relacionais, em termos de regras l√≥gicas e regras de neg√≥cio dentro de um modelo l√≥gico de dados.

<h2>Componentes</h2>

**Entidade:**  Algo que pode ser definido e que pode ter dados armazenados sobre ele ‚Äî como uma pessoa, um objeto, conceito ou evento. Pense em entidades como substantivos. **Exemplos:** um cliente, estudante, carro ou produto. Normalmente representado por um ret√¢ngulo.

<div align="center"><img src="https://i.imgur.com/z3Yebz0.png" title="source: imgur.com" /></div>

**Relacionamento:** Como entidades atuam umas sobre as outras ou  est√£o associadas uma com a outra. Pense em relacionamentos como verbos. **Exemplo:** o estudante pode se inscrever em um curso. As duas  entidades seriam o aluno e o curso, e o relacionamento descrito √© o ato de matricular-se, assim conectando as duas entidades. Relacionamentos  s√£o tipicamente representados por linhas de liga√ß√£o.

**Cardinalidade**: Define os Atributos num√©ricos da rela√ß√£o entre duas entidades ou conjuntos de entidades. Os tr√™s  principais relacionamentos cardinais s√£o **um-para-um (1:1)**, **um-para-muitos (1:N)** e  **muitos-para-muitos (N:M)**. Um **exemplo de um-para-um** seria um estudante associado a um endere√ßo de correspond√™ncia. Um **exemplo de um-para-muitos (ou muitos-para-um, dependendo do sentido da rela√ß√£o):** um estudante se inscreve para v√°rios cursos, mas todos esses cursos t√™m uma √∫nica linha que leva de volta ao aluno. **Exemplo de muitos-para-muitos:** estudantes como um grupo s√£o associados a v√°rios membros do corpo docente, e  membros do corpo docente, por sua vez, s√£o associados a v√°rios alunos. Abaixo temos os s√≠mbolos que representam a cardinalidade:

<div align="center"><img src="https://i.imgur.com/ZVkyJnm.png" title="source: imgur.com" /></div>

Na figura abaixo, temos um exemplo de Diagrama DER com Relacionamento:

<div align="center"><img src="https://i.imgur.com/FObIe4X.png" title="source: imgur.com" /></div>

<h1>Criando o DER no MySQL Workbench</h1>

Vamos Criar o Diagrama Entidade Relacionamento de uma Loja de Games, seguindo o modelo abaixo, no MySQL Workbench:

<div align="center"><img src="https://i.imgur.com/YTGdIzP.png" title="source: imgur.com" /></div>

<h2>üë£ Passo 01 - Iniciando o Modelo</h2>

1. Abra o **MySQL Workbench**

<div align="center"><img src="https://i.imgur.com/TRNizKc.png" title="source: imgur.com" /></div>

2. No menu lateral, do lado esquerdo superior do Workbench, clique no 2¬∫ √≠cone (**Models**)

<div align="center"><img src="https://i.imgur.com/cXW5UT8.png?1" title="source: imgur.com" /></div>

3. Ser√° aberta a aberta a janela **Models**. Clique no bot√£o <img src="https://i.imgur.com/YyUantg.png" title="source: imgur.com" /> para adicionar um novo **Modelo**.

<div align="center"><img src="https://i.imgur.com/XFzSp5B.png" title="source: imgur.com" /></div>

4. Na Guia **Physical of Schemas**, d√™ um duplo clique sobre **mydb** para **alterar o nome do Banco de dados**.

<div align="center"><img src="https://i.imgur.com/K5mRtoL.png?1" title="source: imgur.com" /></div>

5. Vamos alterar o nome do Banco de dados para **db_loja_games**.

<div align="center"><img src="https://i.imgur.com/9yP0fm9.png?1" title="source: imgur.com" /></div>

6. Vamos adicionar um novo Diagrama no Modelo. Clique no √≠cone **Add Diagram**.

<div align="center"><img src="https://i.imgur.com/PSjKjSr.png?1" title="source: imgur.com" /></div>

Antes de come√ßar a criar o DER, vamos configurar alguns itens do Workbench.

1. No menu **File**, clique na op√ß√£o **Page Setup...** para configurar a p√°gina

<div align="center"><img src="https://i.imgur.com/zPRT2aS.png" title="source: imgur.com" /></div>

2. Configure igual a figura abaixo e clique em **OK** para concluir:

<div align="center"><img src="https://i.imgur.com/nkKCaBz.png" title="source: imgur.com" /></div>

3. No menu **Edit**, clique na op√ß√£o **Preferences** para configurar o Modelo de dados

<div align="center"><img src="https://i.imgur.com/D6PKC9W.png" title="source: imgur.com" /></div>

4. Na guia **Modeling ü°™ Defaults**, configure igual a figura abaixo e clique em **OK** para concluir.

<div align="center"><img src="https://i.imgur.com/muNl0he.png" title="source: imgur.com" /></div>

5. No menu **Model**, clique na op√ß√£o **Diagram Properties and Size...** para configurar Diagrama

<div align="center"><img src="https://i.imgur.com/Qz7Mh7f.png" title="source: imgur.com" /></div>

6. No item **Name**, informe o nome do Diagrama (**loja_games**) e as propriedades **Width e Height**, vamos configurar ambas com o valor **1** (numero de p√°ginas). Clique em **OK** para concluir.

<div align="center"><img src="https://i.imgur.com/r35dljw.png" title="source: imgur.com" /></div>

<h2>üë£ Passo 02 - Criar as Tabelas</h2>

1. Na janela **Diagram**, clique no bot√£o <img src="https://i.imgur.com/bsBXqQG.png" title="source: imgur.com" /> **Place a New Table**, para adicionar uma nova tabela (Entidade) no Diagrama.

<div align="center"><img src="https://i.imgur.com/Mh8geus.png" title="source: imgur.com" /></div>

2. D√™ um clique sobre a tela do Diagrama para adicionar a tabela. Para **Editar a tabela**, d√™ um duplo clique sobre ela.

<div align="center"><img src="https://i.imgur.com/6Oatt5x.png" title="source: imgur.com" /></div>

3. No item **Table Name**, informe o nome da tabela (**tb_categorias**)

<div align="center"><img src="https://i.imgur.com/XQXw8Tg.png?1" title="source: imgur.com" /></div>

4. Para inserir o primeiro Atributo da tabela, clique abaixo da coluna Column Name. Observe que o Workbench ir√° sugerir  o Atributo **id** (Chave prim√°ria) no formato **BIGINT**. Marque as op√ß√µes **PK, NN e AI**.

<div align="center"><img src="https://i.imgur.com/HDzYOrI.png" title="source: imgur.com" /></div>

**Op√ß√µes do Atributo:**

| Op√ß√£o                    | Descri√ß√£o                                                    |
| ------------------------ | ------------------------------------------------------------ |
| **PK**                   | **Primary Key** ü°™ Chave Prim√°ria                             |
| **NN**                   | **Not Null** ü°™ N√£o pode ser Nulo                             |
| **UQ**                   | **Unique** ü°™ Index Imp√µe a exclusividade de valores em uma ou mais colunas, al√©m da Chave Prim√°ria |
| **B**                    | **Binary** ü°™ Armazena Atributos bin√°rios ( 0 1)              |
| **UN**                   | **Unsigned Data Type** ü°™ Permite apenas numeros positivos inteiros |
| **ZF**                   | **Zero Fill** ü°™ Preencher numeros inteiros com zeros. **Exemplo:** int(5) = 00001 |
| **AI**                   | **Auto Increment** ü°™ Configurar a Chave Prim√°ria como Auto Incremento |
| **G**                    | **Generated Column** ü°™ Gerar colunas com c√°lculos ou outros valores espec√≠ficos. |
| Expression <br />Default | Valor Padr√£o ou a Exprerss√£o da op√ß√£o Generated Column.      |

5. Clique na linha de baixo para inserir o segundo Atributo. Observe que ser√° sugerido o Atributo **col** no formato **varchar(255)**, como mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/rF41eMF.png" title="source: imgur.com" /></div>

6. Vamos alterar o nome do Atributo para **tipo** e mater o formato. Marque apenas a op√ß√£o **NN**.

<div align="center"><img src="https://i.imgur.com/ONQWUH3.png" title="source: imgur.com" /></div>

7. Primeira Tabela finalizada, vamos fechar a guia da tabela tb_categorias. Veja o nosso DER com a primeira tabela na figura abaixo:

<div align="center"><img src="https://i.imgur.com/BUFEbQY.png" title="source: imgur.com" /></div>

8. Vamos criar a segunda tabela (**tb_usuarios**), igual a figura abaixo. Siga os passos de 1 a 7 para construir a tabela.

<div align="center"><img src="https://i.imgur.com/XQAdJNC.png" title="source: imgur.com" /></div>

9. Segunda Tabela finalizada, vamos fechar a guia da tabela tb_usuarios. Veja o nosso DER com as duas tabelas na figura abaixo:

<div align="center"><img src="https://i.imgur.com/KUI69cL.png" title="source: imgur.com" /></div>

10. Vamos criar a terceira tabela (**tb_produtos**), igual a figura abaixo. Siga os passos de 1 a 7 para construir a tabela.

<div align="center"><img src="https://i.imgur.com/1SwOgtQ.png" title="source: imgur.com" /></div>

11. Observe que n√£o criamos os Atributos **categoria_id e usuario_id**, que s√£o as **chaves estrangeiras** da tabela tb_produtos. Faremos isso no pr√≥ximo passo. Veja o nosso DER com as 3 tabelas na figura abaixo: 

<div align="center"><img src="https://i.imgur.com/uIIxkBN.png" title="source: imgur.com" /></div>

<h2>üë£ Passo 03 - Criar os Relacionamentos</h2>

1. Vamos Criar o primeiro relacionamento (**categoria_id ü°™ id**). Este relacionamento ser√° do tipo um para muitos (1:N). Clique no bot√£o <img src="https://i.imgur.com/MB27W6Z.png" title="source: imgur.com" /> (**Place new 1:N Relationship Indentify**). Clique sobre a tabela **tb_produtos** e depois clique sobre a tabela **tb_categorias**.

<div align="center"><img src="https://i.imgur.com/YSMtb1W.png" title="source: imgur.com" /></div>

2. A Chave Estrangeira e o Relacionamento foram criados automaticamente. Observe apenas que o nome do Atributo Chave estrangeira est√° um pouco diferente. D√™ um duplo clique sobre a Tabela tb_produtos e altere o nome do Atributo **Chave Estrangeira** para **categoria_id** e desmarque a op√ß√£o **PK e NN**, como mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/65ckWjw.png" title="source: imgur.com" /></div>

3. Vamos Criar o segundo relacionamento (**usuario_id ü°™ id**). Este relacionamento ser√° do tipo um para muitos (1:N). Clique no bot√£o <img src="https://i.imgur.com/MB27W6Z.png" title="source: imgur.com" /> (**Place new 1:N Relationship Indentify**). Clique sobre a tabela **tb_produtos** e depois clique sobre a tabela **tb_usuarios**.

<div align="center"><img src="https://i.imgur.com/BvzH7Ef.png" title="source: imgur.com" /></div>

4. A Chave Estrangeira e o Relacionamento foram criados automaticamente. Observe apenas que o nome do Atributo Chave estrangeira est√° um pouco diferente. D√™ um duplo clique sobre a Tabela tb_produtos e altere o nome do Atributo **Chave Estrangeira** para **usuario_id** e desmarque a op√ß√£o **PK e NN**, como mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/P4lB3iJ.png" title="source: imgur.com" /></div>

5. Na figura abaixo voc√™ confere o resultado final. Observe que as linhas do Relacionamento est√£o pontilhadas, o que indica que o Atributo chave estrangeira pode ser nulo. 

<div align="center"><img src="https://i.imgur.com/YTGdIzP.png" title="source: imgur.com" /></div>

6. Para finalizar, Salve o Modelo. No menu **File**, clique na op√ß√£o **Save Model** 

<div align="center"><img src="https://i.imgur.com/iXrF7mB.png" title="source: imgur.com" /></div>

7. Na pr√≥xima janela, informe onde voc√™ deseja Salvar e clique no bot√£o **Salvar**.

<h2>üë£ Passo 04 - Exportar como Script SQL</h2>

Agora vamos gerar o Script SQL a partir do DER:

1. No menu **File**, clique na op√ß√£o **Export ü°™ Forward Engineer SQL CREATE Script...** 

<div align="center"><img src="https://i.imgur.com/ifd98gU.png" title="source: imgur.com" /></div>

2. No item **Output SQL Script File**, Clique no bot√£o com 3 pontos (...) e informe o **nome do arquivo SQL** e onde deseja Salvar.

<div align="center"><img src="https://i.imgur.com/HRFEWNn.png" title="source: imgur.com" /></div>

3. Clique em **Next** para continuar

<div align="center"><img src="https://i.imgur.com/HGuDDtx.png" title="source: imgur.com" /></div>

4. Clique em **Next** para continuar

<div align="center"><img src="https://i.imgur.com/52To7xs.png" title="source: imgur.com" /></div>

5. Clique em **Finish** para concluir

<div align="center"><img src="https://i.imgur.com/jaSU7mn.png" title="source: imgur.com" /></div>

<h2>üë£ Passo 05 - Exportar como Imagem PNG</h2>

1. No menu **File**, clique na op√ß√£o **Export ü°™ Export as PNG...** 

<div align="center"><img src="https://i.imgur.com/JwAVbRQ.png" title="source: imgur.com" /></div>

2. Informe o **nome do arquivo PNG** e onde deseja Salvar. Clique no bot√£o **Salvar**.

<h2>üë£ Passo 06 - Exportar como PDF</h2>

1. No menu **File**, clique na op√ß√£o **Export ü°™ Export as Single Page PDF...** 

<div align="center"><img src="https://i.imgur.com/gpkyfq8.png" title="source: imgur.com" /></div>

2. Informe o **nome do arquivo PDF** e onde deseja Salvar. Clique no bot√£o **Salvar**.

| <img src="https://i.imgur.com/RfjtOFi.png" title="source: imgur.com" width="120px"/> | <div align="left">**DICA:** *Em algumas m√°quinas, dependendo da configura√ß√£o local para PDF, esta op√ß√£o pode falhar. Uma alternativa √© utilizar o Menu **File ü°™ Print**, selecionar a impressora **Microsoft to print PDF** e salvar o arquivo PDF na pasta de sua prefer√™ncia.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<h2>üë£ Passo 07 - Exportar para o MySQL</h2>

1. No menu **Database**, clique na op√ß√£o **Forward Engineer...** 

<div align="center"><img src="https://i.imgur.com/LT2YTyk.png" title="source: imgur.com" /></div>

2. Como estamos trabalhando localmente (Localhost), clique em **Next** para continuar. Se estiv√©ssemos  trabalhando com um Banco de dados na Nuvem seria necess√°rio configurar a conex√£o nesta etapa.

<div align="center"><img src="https://i.imgur.com/IohsHZA.png" title="source: imgur.com" /></div>

3. Clique em **Next** para continuar

<div align="center"><img src="https://i.imgur.com/uWoRBKa.png" title="source: imgur.com" /></div>

4. Mantenha a primeira op√ß√£o selecionada (**Criar todas as tabelas do modelo**) e clique em **Next** para continuar

<div align="center"><img src="https://i.imgur.com/l6JrI6g.png" title="source: imgur.com" /></div>

5. Clique em **Next** para continuar

<div align="center"><img src="https://i.imgur.com/xjw0jeZ.png" title="source: imgur.com" /></div>

6. Clique em **Close** para concluir

<div align="center"><img src="https://i.imgur.com/gunGqUn.png" title="source: imgur.com" /></div>

7. Abra a conex√£o com o MySQL e verifique se o Banco de dados **db_loja_games** com as 3 Tabelas foi criado.

<div align="center"><img src="https://i.imgur.com/SGqnQRD.png" title="source: imgur.com" /></div>

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
